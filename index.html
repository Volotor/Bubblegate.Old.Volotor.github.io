<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>

<head>
	<!--Links to the external Javascript and Css pages -->
	<link rel="stylesheet" href="Css.css">
	<!--script src="JavScrpt.js"></script-->
	<title>Task 1 - Flikr Loader</title>






</head>

<body>

	<script>
		//ajax implementation

		function search_p() {
			//alert(search);
			var search = document.getElementById("search-bar").value;

			var searchURL = "https://crossorigin.me/https://api.flickr.com/services/feeds/photos_public.gne?tagmode=all&=" + search + "&safe_search=1&per_page=9&format=json&jsoncallback=?";
			var getJSON = function(url) {
				return new Promise(function(resolve, reject) {
					var xhr = new XMLHttpRequest();
					xhr.open('get', url, true);
					xhr.responseType = 'json';
					xhr.onload = function() {
						var status = xhr.status;
						if (status == 200) {
							resolve(xhr.response);
						} else {
							reject(status);
						}
					};
					xhr.send();
				});
			};

			getJSON(searchURL).then(function(data) {
					alert('Your Json result is:  ' + data);
				})
			}
			//	alert(getJSON);

			//alert(url);
			/*
						var src;

						$.getJSON(url + "&format=json&jsoncallback=?", function(data) {
							alert('Your Json result is:  ' + data.result)
							$.each(data.items, function(i, item) {
								//	src = "http://farm" + item.farm + ".static.flickr.com/" + item.server + "/" + item.id + "_" + item.secret + "_m.jpg";
								src = media.m

								$("<img/>").attr("src", src).appendTo("#images");
								//	if (i == 3) return false;
							});
						});
						*/









			//$.getJSON('http://api.flickr.com/services/rest/?&amp;method=flickr.photosets.getPhotos&amp;api_key=' + apiKey + '&amp;photoset_id=72157619415192530&amp;format=json&amp;jsoncallback=?',
	</script>

	<div id="container">
		<!--Container div contains the header,breakbar and parchment divs to ensure formating is inline-->
		<div id="header">
			<h1>Flikr Loader</h1>
		</div>
		<div id="parchment">



			<div id="browse-container">
				<input type="search" id="search-bar" placeholder="Search" onkeyup="search_p()"></input>

			</div>


			<div id="images">
			</div>
		</div>

	</div>
</body>

</html>
